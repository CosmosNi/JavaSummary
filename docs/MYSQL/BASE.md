# MYSQL

###### 1.1 MSQL的锁策略

- 表锁：锁定整张表。一个用户在对表进行写操作（插入，删除，更新等）前，需要先获取写锁，这会堵塞其他用户对该表的所有读写操作。只有没有写锁时，其他读取的用户才能获取读锁，读锁之间是不相互堵塞的。
- 行级锁：行级锁可以最大程度地支持并发处理（同时带来最大的锁开销）。在InnoDB中实现了行级锁。行级锁只在存储引擎层实现。



###### 1.2 InnoDB存储引擎简单介绍

InnoDB是Mysql的默认事务型引擎。它被设计为用来处理大量的短期事务，短期事务大部分情况是正常提交，很少会被回滚。InnoDB的性能和自动奔溃恢复特性，使得它在非事务型存储的需求中也很流行。

InnoDB的数据存储在表空间中，表空间是由InnoDB管理的一个黑盒子，由一系列的数据文件组成。

InnoDB采用MVCC来支持高并发，并且实现了四个标准的隔离级别。其默认级别是REPEATABLE READ（可重复读），并且通过间隙锁策略防止幻读的出现。间隙锁使得InooDB不仅仅锁定查询涉及的行，还会对索引中的间隙进行锁定，以防止幻影行的插入。

InnoDB是基于聚簇索引建立的。聚簇索引对主键的查询有很高的性能。





